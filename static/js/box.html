<!DOCTYPE html>
<meta charset="utf-8">
<style>

body {
  overflow-y:scroll;
}

.box { font: 10px sans-serif; }
.box line, .box rect, .box circle { stroke: #000; stroke-width: 1.5px; fill: #fff; }
.box .center { stroke-dasharray: 3 3; }
.box .outlier { stroke: #ccc; fill: none; }

line.median {
  stroke: red;
}

</style>
<body>

<div id='chart'>
</div>

<script src="../nvd3/lib/d3.v2.js"></script>
<script src="boxplot.js"></script>

<script type="text/javascript">

var margin = {top: 10, right: 5, bottom: 20, left: 5},
    width = 20 - margin.left - margin.right,
    height = 300 - margin.top - margin.bottom;

var min = Infinity,
    max = -Infinity;

var chart = boxChart()
    .whiskers(iqr(1.5))
    .width(width)
    .height(height);

var data = []
for (var j = 0; j < 25; j++) {

    data.push([0.5]);
    for (var i = 0; i < 20; i++) {
      data[j].push(100 + 100 * Math.random())
    };
    data[j].push(300);
};

  max = d3.max(data[0])
  min = d3.min(data[0])

  chart.domain([min, max]);

  var vis = d3.select("#chart").selectAll("svg")
      .data(data)
    .enter().append("svg")
      .attr("class", "box")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.bottom + margin.top)
    .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
      .call(chart);


</script>
